!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("angular")):"function"==typeof define&&define.amd?define("ng-currency",["angular"],n):"object"==typeof exports?exports["ng-currency"]=n(require("angular")):e["ng-currency"]=n(e.angular)}(window,function(e){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var u=n[t]={i:t,l:!1,exports:{}};return e[t].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=4)}([function(e,n,r){"use strict";function t(e,n,r,t){return{require:"ngModel",link:function(u,o,i,a){var c=t.defaults,f=c.hardCap,l=c.min,d=c.max,s=c.currencySymbol,v=c.fraction,p=i.required,$=!0;function g(){if($){var e=void 0,n=void 0,r=void 0;if(a.$options&&(a.$options.getOption?(n=a.$options.getOption("updateOn"),r=a.$options.getOption("debounce")):(n=a.$options.updateOn,r=a.$options.debounce)),"blur"===n||r){e=a.$viewValue;for(var t=a.$parsers.length-1;t>=0;t--)e=a.$parsers[t](e)}else e=a.$$rawModelValue;for(var u=a.$formatters.length-1;u>=0;u--)e=a.$formatters[u](e);a.$viewValue=e,a.$render()}}function b(){if(a.$validate(),$){var e=y(a.$$rawModelValue);e!==a.$$rawModelValue&&(a.$setViewValue(e.toFixed(v)),a.$commitViewValue(),g())}}function y(e){return f&&(void 0!==d&&e>d?e=d:void 0!==l&&e<l&&(e=l)),e}function m(e){return RegExp("\\d|\\-|\\"+e,"g")}function x(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r=String(r);var u,o=n.NUMBER_FORMATS.DECIMAL_SEP,i=null,a=e("currency")("-1",O(),v),c=RegExp("[0-9."+o+n.NUMBER_FORMATS.GROUP_SEP+"]+");return a.replace(c.exec(a),"")===r.replace(c.exec(r),"")&&(r="-"+c.exec(r)),RegExp("^-[\\s]*$","g").test(r)&&(r="-0"),m(o).test(r)&&(i=(i=r.match(m(o)).join("").match((u=o,RegExp("\\-{0,1}((\\"+u+")|([0-9]{1,}\\"+u+"?))&?[0-9]{0,"+v+"}","g")))||[""])[0],i=t?i.replace(o,"."):i),i||null}function O(){return void 0===s?n.NUMBER_FORMATS.CURRENCY_SYM:s}i.$observe("ngCurrency",function(e){($="false"!==e)?g():(a.$viewValue=a.$$rawModelValue,a.$render())}),i.$observe("hardCap",function(e){f="true"===e,b()}),i.$observe("min",function(e){l=e?Number(e):void 0,b()}),i.$observe("max",function(e){d=e?Number(e):void 0,b()}),i.$observe("currencySymbol",function(e){s=e,g()}),i.$observe("required",function(e){p=e,b()}),i.$observe("fraction",function(e){v=e||2,g(),b()}),r(function(){u.$emit("currencyRedraw")}),a.$parsers.push(function(e){return $&&-1===[void 0,null,""].indexOf(e)?(e=x(e),e=y(Number(e))):e}),a.$formatters.push(function(n){return $&&-1===[void 0,null,""].indexOf(n)?e("currency")(n,O(),v):n}),a.$validators.min=function(e){return!(p||-1===[void 0,null,""].indexOf(e)&&!isNaN(e))||(!$||-1!==[void 0,null].indexOf(l)||isNaN(l)||e>=l)},a.$validators.max=function(e){return!(p||-1===[void 0,null,""].indexOf(e)&&!isNaN(e))||(!$||-1!==[void 0,null].indexOf(d)||isNaN(d)||e<=d)},a.$validators.fraction=function(e){return!$||!e||!isNaN(e)},u.$on("currencyRedraw",function(){b(),g()}),o.bind("focus",function(){if($){var e=x(a.$viewValue,!1);a.$viewValue!==e&&(a.$viewValue=e,a.$render(),o.triggerHandler("focus"))}}),o.bind("blur",g)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t,t.$inject=["$filter","$locale","$timeout","ngCurrencySettings"]},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}();var u=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._defaults={fraction:2,hardCap:!1,min:void 0,max:void 0,currencySymbol:void 0}}return t(e,[{key:"$get",value:function(){var e=this;return{get defaults(){return e.defaults}}}},{key:"defaults",get:function(){return this._defaults},set:function(e){this._defaults=e}}]),e}();n.default=u},function(n,r){n.exports=e},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=i(r(2)),u=i(r(1)),o=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.default.module("ng-currency",[]);a.provider("ngCurrencySettings",u.default),a.directive("ngCurrency",o.default),n.default=a.name},function(e,n,r){e.exports=r(3)}])});
//# sourceMappingURL=ng-currency.min.js.map