!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("angular")):"function"==typeof define&&define.amd?define("ng-currency",["angular"],n):"object"==typeof exports?exports["ng-currency"]=n(require("angular")):e["ng-currency"]=n(e.angular)}(this,function(e){return function(e){function n(u){if(r[u])return r[u].exports;var o=r[u]={exports:{},id:u,loaded:!1};return e[u].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(2),t=u(o),i=r(1),a=u(i),l=t["default"].module("ng-currency",[]);l.directive("ngCurrency",a["default"]),n["default"]=l.name},function(e,n){"use strict";function r(e,n){return{require:"ngModel",link:function(r,u,o,t){function i(){if(g){for(var e=t.$modelValue,n=t.$formatters.length-1;n>=0;n--)e=t.$formatters[n](e);t.$viewValue=e,t.$render()}}function a(){if(t.$validate(),g){var e=l(t.$$rawModelValue);e!==t.$$rawModelValue&&(t.$setViewValue(e.toFixed(M)),t.$commitViewValue(),i())}}function l(e){return v&&(void 0!==p&&e>p?e=p:void 0!==$&&e<$&&(e=$)),e}function c(e){return RegExp("\\d|\\-|\\"+e,"g")}function d(e){return RegExp("\\-{0,1}((\\"+e+")|([0-9]{1,}\\"+e+"?))&?[0-9]{0,"+M+"}","g")}function f(r){r=String(r);var u=n.NUMBER_FORMATS.DECIMAL_SEP,o=null;r.indexOf(n.NUMBER_FORMATS.DECIMAL_SEP)===-1&&r.indexOf(".")!==-1&&M>0&&(u=".");var t=e("currency")("-1",s(),M),i=RegExp("[0-9."+n.NUMBER_FORMATS.DECIMAL_SEP+n.NUMBER_FORMATS.GROUP_SEP+"]+"),a=t.replace(i.exec(t),""),l=r.replace(i.exec(r),"");return a===l&&(r="-"+i.exec(r)),RegExp("^-[\\s]*$","g").test(r)&&(r="-0"),c(u).test(r)&&(o=r.match(c(u)).join("").match(d(u)),o=o?o[0].replace(u,"."):null),o}function s(){return void 0===x?n.NUMBER_FORMATS.CURRENCY_SYM:x}var v=void 0,$=void 0,p=void 0,x=void 0,m=void 0,g=!0,M=2;o.$observe("ngCurrency",function(e){g="false"!==e,g?i():(t.$viewValue=t.$modelValue,t.$render())}),o.$observe("hardCap",function(e){v="true"===e,a()}),o.$observe("min",function(e){$=e?Number(e):void 0,a()}),o.$observe("max",function(e){p=e?Number(e):void 0,a()}),o.$observe("currencySymbol",function(e){x=e,i()}),o.$observe("ngRequired",function(e){m=e,a()}),o.$observe("fraction",function(e){M=e||2,i(),a()}),t.$parsers.push(function(e){return g&&[void 0,null,""].indexOf(e)===-1?(e=f(e),e=l(Number(e))):e}),t.$formatters.push(function(n){return g&&[void 0,null,""].indexOf(n)===-1?e("currency")(n,s(),M):n}),t.$validators.min=function(e){return!(m||[void 0,null,""].indexOf(e)===-1&&!isNaN(e))||(!g||[void 0,null].indexOf($)!==-1||isNaN($)||e>=$)},t.$validators.max=function(e){return!(m||[void 0,null,""].indexOf(e)===-1&&!isNaN(e))||(!g||[void 0,null].indexOf(p)!==-1||isNaN(p)||e<=p)},t.$validators.fraction=function(e){return!g||!e||!isNaN(e)},r.$on("currencyRedraw",function(){a(),i()}),u.bind("focus",function(){if(g){var r=[void 0,null,""].indexOf(t.$modelValue)===-1?e("number")(t.$modelValue,M).replace(n.NUMBER_FORMATS.GROUP_SEP,""):t.$modelValue;t.$viewValue!==r&&(t.$viewValue=r,t.$render(),u.triggerHandler("focus"))}}),u.bind("blur",i)}}}r.$inject=["$filter","$locale"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},function(n,r){n.exports=e}])});
//# sourceMappingURL=ng-currency.js.map