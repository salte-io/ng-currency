!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("angular")):"function"==typeof define&&define.amd?define("ng-currency",["angular"],n):"object"==typeof exports?exports["ng-currency"]=n(require("angular")):e["ng-currency"]=n(e.angular)}(this,function(e){return function(e){function n(u){if(r[u])return r[u].exports;var t=r[u]={exports:{},id:u,loaded:!1};return e[u].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var t=r(2),i=u(t),o=r(1),c=u(o),a=i["default"].module("ng-currency",[]);a.directive("ngCurrency",c["default"]),n["default"]=a.name},function(e,n){"use strict";function r(e,n,r){return{require:"ngModel",link:function(u,t,i,o){function c(){$&&(o.$validate(),u.$emit("currencyRedraw"))}function a(e){return RegExp("\\d|\\-|\\"+e,"g")}function f(e){return RegExp("\\-{0,1}((\\"+e+")|([0-9]{1,}\\"+e+"?))&?[0-9]{0,"+R+"}","g")}function l(r){r=String(r);var u=n.NUMBER_FORMATS.DECIMAL_SEP,t=null;r.indexOf(n.NUMBER_FORMATS.DECIMAL_SEP)===-1&&r.indexOf(".")!==-1&&R>0&&(u=".");var i=e("currency")("-1",d(),R),o=RegExp("[0-9."+n.NUMBER_FORMATS.DECIMAL_SEP+n.NUMBER_FORMATS.GROUP_SEP+"]+"),c=i.replace(o.exec(i),""),l=r.replace(o.exec(r),"");return c===l&&(r="-"+o.exec(r)),RegExp("^-[\\s]*$","g").test(r)&&(r="-0"),a(u).test(r)&&(t=r.match(a(u)).join("").match(f(u)),t=t?t[0].replace(u,"."):null),t}function d(){return void 0!==g?g:n.NUMBER_FORMATS.CURRENCY_SYM}function s(){for(var e=o.$$rawModelValue,n=o.$formatters.length-1;n>=0;n--)e=o.$formatters[n](e);o.$setViewValue(e),o.$render()}function v(e){if(N&&p&&[void 0,null,""].indexOf(e)===-1){if(void 0!==m&&e>m)return m;if(void 0!==x&&e<x)return x}return e}var $=void 0,p=void 0,x=void 0,m=void 0,g=void 0,M=void 0,N=!0,R=2;i.$observe("ngCurrency",function(e){N="false"!==e,c()}),i.$observe("hardCap",function(e){p="true"===e,c()}),i.$observe("min",function(e){x=e?Number(e):void 0,c()}),i.$observe("max",function(e){m=e?Number(e):void 0,c()}),i.$observe("currencySymbol",function(e){g=e,c()}),i.$observe("ngRequired",function(e){M=e,c()}),i.$observe("fraction",function(e){R=e||2,c()}),r(function(){$=!0,c()}),o.$parsers.push(function(e){if(N&&[void 0,null,""].indexOf(e)===-1){var n=l(e);return"."!==n&&"-."!==n||(n=".0"),Number(n)}return e}),o.$parsers.push(v),o.$formatters.push(function(n){return N&&[void 0,null,""].indexOf(n)===-1?e("currency")(n,d(),R):n}),o.$validators.min=function(e){return!(M||[void 0,null,""].indexOf(e)===-1&&!isNaN(e))||(!N||[void 0,null].indexOf(x)!==-1||isNaN(x)||e>=x)},o.$validators.max=function(e){return!(M||[void 0,null,""].indexOf(e)===-1&&!isNaN(e))||(!N||[void 0,null].indexOf(m)!==-1||isNaN(m)||e<=m)},o.$validators.fraction=function(e){return!N||!e||!isNaN(e)},u.$on("currencyRedraw",function(){if($){o.$commitViewValue();var e=v(o.$$rawModelValue);e!==o.$$rawModelValue&&(o.$setViewValue(e),o.$commitViewValue()),s()}}),t.on("focus",function(){var e=o.$$rawModelValue;e=isNaN(e)||""===e||null===e?"":Number(e).toFixed(R),o.$viewValue!==e&&(o.$setViewValue(e),o.$render(),t.triggerHandler("focus"))}),t.on("blur",function(){o.$commitViewValue(),s()})}}}r.$inject=["$filter","$locale","$timeout"],Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},function(n,r){n.exports=e}])});
//# sourceMappingURL=ng-currency.js.map