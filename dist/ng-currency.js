!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("angular")):"function"==typeof define&&define.amd?define("ng-currency",["angular"],n):"object"==typeof exports?exports["ng-currency"]=n(require("angular")):e["ng-currency"]=n(e.angular)}(this,function(e){return function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(2),u=t(o),i=r(1),c=t(i),a=u["default"].module("ng-currency",[]);a.directive("ngCurrency",c["default"]),n["default"]=a.name},function(e,n){"use strict";function r(e,n,r){return{require:"ngModel",scope:{},link:function(t,o,u,i){function c(){r(function(){t.$emit("currencyRedraw")})}function a(e){return RegExp("\\d|\\-|\\"+e,"g")}function f(e){return RegExp("\\-{0,1}((\\"+e+")|([0-9]{1,}\\"+e+"?))&?[0-9]{0,"+t.fraction+"}","g")}function l(r){r=String(r);var o=n.NUMBER_FORMATS.DECIMAL_SEP,u=null;r.indexOf(n.NUMBER_FORMATS.DECIMAL_SEP)===-1&&r.indexOf(".")!==-1&&t.fraction>0&&(o=".");var i=e("currency")("-1",d(),t.fraction),c=RegExp("[0-9."+n.NUMBER_FORMATS.DECIMAL_SEP+n.NUMBER_FORMATS.GROUP_SEP+"]+"),l=i.replace(c.exec(i),""),s=r.replace(c.exec(r),"");return l===s&&(r="-"+c.exec(r)),RegExp("^-[\\s]*$","g").test(r)&&(r="-0"),a(o).test(r)&&(u=r.match(a(o)).join("").match(f(o)),u=u?u[0].replace(o,"."):null),u}function d(){return void 0!==t.currencySymbol?t.currencySymbol:n.NUMBER_FORMATS.CURRENCY_SYM}function s(){for(var e=i.$formatters,n=e.length,r=i.$$rawModelValue;n--;)r=e[n](r);i.$setViewValue(r),i.$render()}"false"!==u.ngCurrency&&(u.$observe("min",function(e){t.min=e,c()}),u.$observe("max",function(e){t.max=e,c()}),u.$observe("currencySymbol",function(e){t.currencySymbol=e,c()}),u.$observe("ngRequired",function(e){t.ngRequired=e,c()}),u.$observe("fraction",function(e){t.fraction=e,c()}),t.fraction=t.fraction||2,i.$parsers.push(function(e){var n=l(e);return"."!==n&&"-."!==n||(n=".0"),parseFloat(n)}),o.on("blur",function(){i.$commitViewValue(),s()}),i.$formatters.unshift(function(n){return e("currency")(n,d(),t.fraction)}),i.$validators.min=function(e){return!(t.ngRequired||!isNaN(e))||("undefined"==typeof t.min||e>=parseFloat(t.min))},t.$watch("min",function(e){i.$validate()}),i.$validators.max=function(e){return!(t.ngRequired||!isNaN(e))||("undefined"==typeof t.max||e<=parseFloat(t.max))},t.$watch("max",function(e){i.$validate()}),i.$validators.fraction=function(e){return!e||!isNaN(e)},t.$on("currencyRedraw",function(){i.$commitViewValue(),s()}),o.on("focus",function(){var e=i.$$rawModelValue;e=isNaN(e)||""===e||null===e?"":parseFloat(e).toFixed(t.fraction),i.$setViewValue(e),i.$render()}))}}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},function(n,r){n.exports=e}])});
//# sourceMappingURL=ng-currency.js.map