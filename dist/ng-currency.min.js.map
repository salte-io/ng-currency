{"version":3,"sources":["webpack://ng-currency/webpack/universalModuleDefinition","webpack://ng-currency/external \"angular\"","webpack://ng-currency/webpack/bootstrap","webpack://ng-currency/webpack/runtime/compat get default export","webpack://ng-currency/webpack/runtime/define property getters","webpack://ng-currency/webpack/runtime/hasOwnProperty shorthand","webpack://ng-currency/webpack/runtime/make namespace object","webpack://ng-currency/./ng-currency-settings.provider.js","webpack://ng-currency/./ng-currency.directive.js","webpack://ng-currency/./ng-currency.module.js"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__734__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","ngCurrencySettings","this","_defaults","fraction","hardCap","min","max","currencySymbol","defaults","provider","ngCurrency","$filter","$locale","$timeout","link","scope","element","attrs","controller","ngRequired","required","active","reformat","updateOn","debounce","$options","getOption","$viewValue","i","$parsers","length","$$rawModelValue","$formatters","$render","revalidate","$validate","keepInRange","$setViewValue","toFixed","$commitViewValue","decimalRex","dChar","RegExp","clearRex","clearValue","replaceSeparator","String","decimalSeparator","NUMBER_FORMATS","DECIMAL_SEP","cleared","neg_dummy","getCurrencySymbol","neg_regexp","GROUP_SEP","neg_dummy_txt","replace","exec","value_dummy_txt","test","match","join","CURRENCY_SYM","$observe","Number","$emit","push","indexOf","$validators","isNaN","$on","bind","triggerHandler","$inject","angular","directive"],"mappings":"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","file":"ng-currency.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ng-currency\", [\"angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ng-currency\"] = factory(require(\"angular\"));\n\telse\n\t\troot[\"ng-currency\"] = factory(root[\"angular\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__734__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__734__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default class ngCurrencySettings {\n    constructor() {\n      this._defaults = {\n        fraction: 2,\n        hardCap: false,\n        min: undefined,\n        max: undefined,\n        currencySymbol: undefined\n      };\n    }\n\n    /**\n     * The default property values for 'ng-currency'\n     */\n    get defaults() {\n      return this._defaults;\n    }\n\n    set defaults(defaults) {\n      this._defaults = defaults;\n    }\n\n    $get() {\n      const provider = this;\n      return {\n        /**\n         * The default property values for 'ng-currency'\n         */\n        get defaults() {\n          return provider.defaults;\n        }\n      };\n    }\n}\n","export default function ngCurrency($filter, $locale, $timeout, ngCurrencySettings) {\n  return {\n    require: 'ngModel',\n    link: (scope, element, attrs, controller) => {\n      let { hardCap, min, max, currencySymbol, fraction } = ngCurrencySettings.defaults;\n      let ngRequired = attrs.required;\n      let active = true;\n\n      attrs.$observe('ngCurrency', (value) => {\n        active = (value !== 'false');\n        if (active) {\n          reformat();\n        } else {\n          controller.$viewValue = controller.$$rawModelValue;\n          controller.$render();\n        }\n      });\n      attrs.$observe('hardCap', (value) => {\n        hardCap = (value === 'true');\n        revalidate();\n      });\n      attrs.$observe('min', (value) => {\n        min = value ? Number(value) : undefined;\n        revalidate();\n      });\n      attrs.$observe('max', (value) => {\n        max = value ? Number(value) : undefined;\n        revalidate();\n      });\n      attrs.$observe('currencySymbol', (value) => {\n        currencySymbol = value;\n        reformat();\n      });\n      attrs.$observe('required', (value) => {\n        ngRequired = value;\n        revalidate();\n      });\n      attrs.$observe('fraction', (value) => {\n        fraction = value || 2;\n        reformat();\n        revalidate();\n      });\n\n      // HACK(cecilia-sanare): Seriously angular?\n      $timeout(() => {\n        scope.$emit('currencyRedraw');\n      });\n\n      controller.$parsers.push((value) => {\n        if (active && [undefined, null, ''].indexOf(value) === -1) {\n          value = clearValue(value);\n          value = keepInRange(Number(value));\n          return value;\n        }\n        return value;\n      });\n\n      controller.$formatters.push((value) => {\n        if (active && [undefined, null, ''].indexOf(value) === -1) {\n          return $filter('currency')(value, getCurrencySymbol(), fraction);\n        }\n        return value;\n      });\n\n      controller.$validators.min = (value) => {\n        if (!ngRequired && ([undefined, null, ''].indexOf(value) !== -1 || isNaN(value))) {\n          return true;\n        }\n        return !active ||\n          [undefined, null].indexOf(min) !== -1 || isNaN(min) ||\n          value >= min;\n      };\n\n      controller.$validators.max = (value) => {\n        if (!ngRequired && ([undefined, null, ''].indexOf(value) !== -1 || isNaN(value))) {\n          return true;\n        }\n        return !active ||\n          [undefined, null].indexOf(max) !== -1 || isNaN(max) ||\n          value <= max;\n      };\n\n      controller.$validators.fraction = (value) => {\n        return !active || !value || !isNaN(value);\n      };\n\n      function reformat() {\n        if (active) {\n          let value;\n          let updateOn, debounce;\n          if (controller.$options) {\n            // HACK(cecilia-sanare): this is to maintain backwards compatability with Angular 1.5.9 and lower.\n            // TODO(cecilia-sanare): This should be removed when ngCurrency does a 2.0.0 release\n            // Reference: https://github.com/angular/angular.js/commit/296cfce40c25e9438bfa46a0eb27240707a10ffa\n            if (controller.$options.getOption) {\n              updateOn = controller.$options.getOption('updateOn');\n              debounce = controller.$options.getOption('debounce');\n            } else {\n              updateOn = controller.$options.updateOn;\n              debounce = controller.$options.debounce;\n            }\n          }\n          if (updateOn === 'blur' || debounce) {\n            value = controller.$viewValue;\n            for (let i = controller.$parsers.length - 1; i >= 0; i--) {\n              value = controller.$parsers[i](value);\n            }\n          } else {\n            value = controller.$$rawModelValue;\n          }\n          for (let i = controller.$formatters.length - 1; i >= 0; i--) {\n            value = controller.$formatters[i](value);\n          }\n          controller.$viewValue = value;\n          controller.$render();\n        }\n      }\n\n      function revalidate() {\n        controller.$validate();\n        if (active) {\n          const value = keepInRange(controller.$$rawModelValue);\n          if (value !== controller.$$rawModelValue) {\n            controller.$setViewValue(value.toFixed(fraction));\n            controller.$commitViewValue();\n            reformat();\n          }\n        }\n      }\n\n      function keepInRange(value) {\n        if (hardCap) {\n          if (max !== undefined && value > max) {\n            value = max;\n          } else if (min !== undefined && value < min) {\n            value = min;\n          }\n        }\n        return value;\n      }\n\n      scope.$on('currencyRedraw', () => {\n        revalidate();\n        reformat();\n      });\n\n      element.bind('focus', () => {\n        if (active) {\n          const value = clearValue(controller.$viewValue, false);\n\n          if (controller.$viewValue !== value) {\n            controller.$viewValue = value;\n            controller.$render();\n            element.triggerHandler('focus');\n          }\n        }\n      });\n\n      element.bind('blur', reformat);\n\n      // TODO: Rewrite this parsing logic to more readable.\n\n      function decimalRex(dChar) {\n        return RegExp('\\\\d|\\\\-|\\\\' + dChar, 'g');\n      }\n\n      function clearRex(dChar) {\n        return RegExp('\\\\-{0,1}((\\\\' + dChar + ')|([0-9]{1,}\\\\' + dChar + '?))&?[0-9]{0,' + fraction + '}', 'g');\n      }\n\n      function clearValue(value, replaceSeparator = true) {\n        value = String(value);\n        const decimalSeparator = $locale.NUMBER_FORMATS.DECIMAL_SEP;\n        let cleared = null;\n\n        // Replace negative pattern to minus sign (-)\n        const neg_dummy = $filter('currency')('-1', getCurrencySymbol(), fraction);\n        const neg_regexp = RegExp('[0-9.' + decimalSeparator + $locale.NUMBER_FORMATS.GROUP_SEP + ']+');\n        const neg_dummy_txt = neg_dummy.replace(neg_regexp.exec(neg_dummy), '');\n        const value_dummy_txt = value.replace(neg_regexp.exec(value), '');\n\n        // If is negative\n        if (neg_dummy_txt === value_dummy_txt) {\n          value = '-' + neg_regexp.exec(value);\n        }\n\n        if (RegExp('^-[\\\\s]*$', 'g').test(value)) {\n          value = '-0';\n        }\n\n        if (decimalRex(decimalSeparator).test(value)) {\n          cleared = value.match(decimalRex(decimalSeparator))\n            .join('').match(clearRex(decimalSeparator)) || [''];\n\n          cleared = cleared[0];\n          cleared = replaceSeparator ? cleared.replace(decimalSeparator, '.') : cleared;\n        }\n\n        return cleared || null;\n      }\n\n      function getCurrencySymbol() {\n        return currencySymbol === undefined ? $locale.NUMBER_FORMATS.CURRENCY_SYM : currencySymbol;\n      }\n    }\n  };\n}\nngCurrency.$inject = ['$filter', '$locale', '$timeout', 'ngCurrencySettings'];\n","import angular from 'angular';\nimport ngCurrencySettings from './ng-currency-settings.provider.js';\nimport ngCurrency from './ng-currency.directive.js';\n\nconst module = angular.module('ng-currency', []);\n\nmodule.provider('ngCurrencySettings', ngCurrencySettings);\nmodule.directive('ngCurrency', ngCurrency);\n\nexport default module.name;\n"],"sourceRoot":""}