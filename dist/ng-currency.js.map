{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///ng-currency.js","webpack:///webpack/bootstrap 52b0af0a588816d51c59","webpack:///./ng-currency-settings.provider.js","webpack:///./ng-currency.directive.js","webpack:///external \"angular\"","webpack:///./ng-currency.module.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","ngCurrencySettings","_defaults","fraction","hardCap","min","undefined","max","currencySymbol","provider","defaults","set","default","ngCurrency","$filter","$locale","$timeout","link","scope","element","attrs","controller","reformat","active","updateOn","debounce","$options","getOption","$viewValue","$parsers","$$rawModelValue","$formatters","$render","revalidate","$validate","keepInRange","$setViewValue","toFixed","$commitViewValue","decimalRex","dChar","RegExp","clearRex","clearValue","String","dSeparator","NUMBER_FORMATS","DECIMAL_SEP","cleared","indexOf","neg_dummy","getCurrencySymbol","neg_regexp","GROUP_SEP","replace","exec","test","match","join","CURRENCY_SYM","_ngCurrencySettings$d","ngRequired","required","$observe","Number","$emit","push","$validators","isNaN","$on","bind","groupRegex","triggerHandler","$inject","_interopRequireDefault","obj","_angular","_angular2","_ngCurrencySettingsProvider","_ngCurrencySettingsProvider2","_ngCurrencyDirective","_ngCurrencyDirective2","directive"],"mappings":"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","file":"ng-currency.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ng-currency\", [\"angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ng-currency\"] = factory(require(\"angular\"));\n\telse\n\t\troot[\"ng-currency\"] = factory(root[\"angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ng-currency\", [\"angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ng-currency\"] = factory(require(\"angular\"));\n\telse\n\t\troot[\"ng-currency\"] = factory(root[\"angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ngCurrencySettings = function () {\n  function ngCurrencySettings() {\n    _classCallCheck(this, ngCurrencySettings);\n\n    this._defaults = {\n      fraction: 2,\n      hardCap: false,\n      min: undefined,\n      max: undefined,\n      currencySymbol: undefined\n    };\n  }\n\n  /**\n   * The default property values for 'ng-currency'\n   */\n\n\n  _createClass(ngCurrencySettings, [{\n    key: \"$get\",\n    value: function $get() {\n      var provider = this;\n      return {\n        /**\n         * The default property values for 'ng-currency'\n         */\n        get defaults() {\n          return provider.defaults;\n        }\n      };\n    }\n  }, {\n    key: \"defaults\",\n    get: function get() {\n      return this._defaults;\n    },\n    set: function set(defaults) {\n      this._defaults = defaults;\n    }\n  }]);\n\n  return ngCurrencySettings;\n}();\n\nexports.default = ngCurrencySettings;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ngCurrency;\nfunction ngCurrency($filter, $locale, $timeout, ngCurrencySettings) {\n  return {\n    require: 'ngModel',\n    link: function link(scope, element, attrs, controller) {\n      var _ngCurrencySettings$d = ngCurrencySettings.defaults,\n          hardCap = _ngCurrencySettings$d.hardCap,\n          min = _ngCurrencySettings$d.min,\n          max = _ngCurrencySettings$d.max,\n          currencySymbol = _ngCurrencySettings$d.currencySymbol,\n          fraction = _ngCurrencySettings$d.fraction;\n\n      var ngRequired = attrs.required;\n      var active = true;\n\n      attrs.$observe('ngCurrency', function (value) {\n        active = value !== 'false';\n        if (active) {\n          reformat();\n        } else {\n          controller.$viewValue = controller.$$rawModelValue;\n          controller.$render();\n        }\n      });\n      attrs.$observe('hardCap', function (value) {\n        hardCap = value === 'true';\n        revalidate();\n      });\n      attrs.$observe('min', function (value) {\n        min = value ? Number(value) : undefined;\n        revalidate();\n      });\n      attrs.$observe('max', function (value) {\n        max = value ? Number(value) : undefined;\n        revalidate();\n      });\n      attrs.$observe('currencySymbol', function (value) {\n        currencySymbol = value;\n        reformat();\n      });\n      attrs.$observe('required', function (value) {\n        ngRequired = value;\n        revalidate();\n      });\n      attrs.$observe('fraction', function (value) {\n        fraction = value || 2;\n        reformat();\n        revalidate();\n      });\n\n      // HACK(cecilia-sanare): Seriously angular?\n      $timeout(function () {\n        scope.$emit('currencyRedraw');\n      });\n\n      controller.$parsers.push(function (value) {\n        if (active && [undefined, null, ''].indexOf(value) === -1) {\n          value = clearValue(value);\n          value = keepInRange(Number(value));\n          return value;\n        }\n        return value;\n      });\n\n      controller.$formatters.push(function (value) {\n        if (active && [undefined, null, ''].indexOf(value) === -1) {\n          return $filter('currency')(value, getCurrencySymbol(), fraction);\n        }\n        return value;\n      });\n\n      controller.$validators.min = function (value) {\n        if (!ngRequired && ([undefined, null, ''].indexOf(value) !== -1 || isNaN(value))) {\n          return true;\n        }\n        return !active || [undefined, null].indexOf(min) !== -1 || isNaN(min) || value >= min;\n      };\n\n      controller.$validators.max = function (value) {\n        if (!ngRequired && ([undefined, null, ''].indexOf(value) !== -1 || isNaN(value))) {\n          return true;\n        }\n        return !active || [undefined, null].indexOf(max) !== -1 || isNaN(max) || value <= max;\n      };\n\n      controller.$validators.fraction = function (value) {\n        return !active || !value || !isNaN(value);\n      };\n\n      function reformat() {\n        if (active) {\n          var value = void 0;\n          var updateOn = void 0,\n              debounce = void 0;\n          if (controller.$options) {\n            // HACK(cecilia-sanare): this is to maintain backwards compatability with Angular 1.5.9 and lower.\n            // TODO(cecilia-sanare): This should be removed when ngCurrency does a 2.0.0 release\n            // Reference: https://github.com/angular/angular.js/commit/296cfce40c25e9438bfa46a0eb27240707a10ffa\n            if (controller.$options.getOption) {\n              updateOn = controller.$options.getOption('updateOn');\n              debounce = controller.$options.getOption('debounce');\n            } else {\n              updateOn = controller.$options.updateOn;\n              debounce = controller.$options.debounce;\n            }\n          }\n          if (updateOn === 'blur' || debounce) {\n            value = controller.$viewValue;\n            for (var i = controller.$parsers.length - 1; i >= 0; i--) {\n              value = controller.$parsers[i](value);\n            }\n          } else {\n            value = controller.$$rawModelValue;\n          }\n          for (var _i = controller.$formatters.length - 1; _i >= 0; _i--) {\n            value = controller.$formatters[_i](value);\n          }\n          controller.$viewValue = value;\n          controller.$render();\n        }\n      }\n\n      function revalidate() {\n        controller.$validate();\n        if (active) {\n          var value = keepInRange(controller.$$rawModelValue);\n          if (value !== controller.$$rawModelValue) {\n            controller.$setViewValue(value.toFixed(fraction));\n            controller.$commitViewValue();\n            reformat();\n          }\n        }\n      }\n\n      function keepInRange(value) {\n        if (hardCap) {\n          if (max !== undefined && value > max) {\n            value = max;\n          } else if (min !== undefined && value < min) {\n            value = min;\n          }\n        }\n        return value;\n      }\n\n      scope.$on('currencyRedraw', function () {\n        revalidate();\n        reformat();\n      });\n\n      element.bind('focus', function () {\n        if (active) {\n          var groupRegex = new RegExp('\\\\' + $locale.NUMBER_FORMATS.GROUP_SEP, 'g');\n          var value = [undefined, null, ''].indexOf(controller.$$rawModelValue) === -1 ? $filter('number')(controller.$$rawModelValue, fraction).replace(groupRegex, '') : controller.$$rawModelValue;\n          if (controller.$viewValue !== value) {\n            controller.$viewValue = value;\n            controller.$render();\n            element.triggerHandler('focus');\n          }\n        }\n      });\n\n      element.bind('blur', reformat);\n\n      // TODO: Rewrite this parsing logic to more readable.\n\n      function decimalRex(dChar) {\n        return RegExp('\\\\d|\\\\-|\\\\' + dChar, 'g');\n      }\n\n      function clearRex(dChar) {\n        return RegExp('\\\\-{0,1}((\\\\' + dChar + ')|([0-9]{1,}\\\\' + dChar + '?))&?[0-9]{0,' + fraction + '}', 'g');\n      }\n\n      function clearValue(value) {\n        value = String(value);\n        var dSeparator = $locale.NUMBER_FORMATS.DECIMAL_SEP;\n        var cleared = null;\n\n        if (value.indexOf($locale.NUMBER_FORMATS.DECIMAL_SEP) === -1 && value.indexOf('.') !== -1 && fraction > 0) {\n          dSeparator = '.';\n        }\n\n        // Replace negative pattern to minus sign (-)\n        var neg_dummy = $filter('currency')('-1', getCurrencySymbol(), fraction);\n        var neg_regexp = RegExp('[0-9.' + $locale.NUMBER_FORMATS.DECIMAL_SEP + $locale.NUMBER_FORMATS.GROUP_SEP + ']+');\n        var neg_dummy_txt = neg_dummy.replace(neg_regexp.exec(neg_dummy), '');\n        var value_dummy_txt = value.replace(neg_regexp.exec(value), '');\n\n        // If is negative\n        if (neg_dummy_txt === value_dummy_txt) {\n          value = '-' + neg_regexp.exec(value);\n        }\n\n        if (RegExp('^-[\\\\s]*$', 'g').test(value)) {\n          value = '-0';\n        }\n\n        if (decimalRex(dSeparator).test(value)) {\n          cleared = value.match(decimalRex(dSeparator)).join('').match(clearRex(dSeparator));\n          cleared = cleared ? cleared[0].replace(dSeparator, '.') : null;\n        }\n\n        return cleared;\n      }\n\n      function getCurrencySymbol() {\n        return currencySymbol === undefined ? $locale.NUMBER_FORMATS.CURRENCY_SYM : currencySymbol;\n      }\n    }\n  };\n}\nngCurrency.$inject = ['$filter', '$locale', '$timeout', 'ngCurrencySettings'];\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _angular = __webpack_require__(2);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nvar _ngCurrencySettingsProvider = __webpack_require__(0);\n\nvar _ngCurrencySettingsProvider2 = _interopRequireDefault(_ngCurrencySettingsProvider);\n\nvar _ngCurrencyDirective = __webpack_require__(1);\n\nvar _ngCurrencyDirective2 = _interopRequireDefault(_ngCurrencyDirective);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _module = _angular2.default.module('ng-currency', []);\n\n_module.provider('ngCurrencySettings', _ngCurrencySettingsProvider2.default);\n_module.directive('ngCurrency', _ngCurrencyDirective2.default);\n\nexports.default = _module.name;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// ng-currency.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 52b0af0a588816d51c59","export default class ngCurrencySettings {\n    constructor() {\n      this._defaults = {\n        fraction: 2,\n        hardCap: false,\n        min: undefined,\n        max: undefined,\n        currencySymbol: undefined\n      };\n    }\n\n    /**\n     * The default property values for 'ng-currency'\n     */\n    get defaults() {\n      return this._defaults;\n    }\n\n    set defaults(defaults) {\n      this._defaults = defaults;\n    }\n\n    $get() {\n      const provider = this;\n      return {\n        /**\n         * The default property values for 'ng-currency'\n         */\n        get defaults() {\n          return provider.defaults;\n        }\n      };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ng-currency-settings.provider.js","export default function ngCurrency($filter, $locale, $timeout, ngCurrencySettings) {\n  return {\n    require: 'ngModel',\n    link: (scope, element, attrs, controller) => {\n      let { hardCap, min, max, currencySymbol, fraction } = ngCurrencySettings.defaults;\n      let ngRequired = attrs.required;\n      let active = true;\n\n      attrs.$observe('ngCurrency', (value) => {\n        active = (value !== 'false');\n        if (active) {\n          reformat();\n        } else {\n          controller.$viewValue = controller.$$rawModelValue;\n          controller.$render();\n        }\n      });\n      attrs.$observe('hardCap', (value) => {\n        hardCap = (value === 'true');\n        revalidate();\n      });\n      attrs.$observe('min', (value) => {\n        min = value ? Number(value) : undefined;\n        revalidate();\n      });\n      attrs.$observe('max', (value) => {\n        max = value ? Number(value) : undefined;\n        revalidate();\n      });\n      attrs.$observe('currencySymbol', (value) => {\n        currencySymbol = value;\n        reformat();\n      });\n      attrs.$observe('required', (value) => {\n        ngRequired = value;\n        revalidate();\n      });\n      attrs.$observe('fraction', (value) => {\n        fraction = value || 2;\n        reformat();\n        revalidate();\n      });\n\n      // HACK(cecilia-sanare): Seriously angular?\n      $timeout(() => {\n        scope.$emit('currencyRedraw');\n      });\n\n      controller.$parsers.push((value) => {\n        if (active && [undefined, null, ''].indexOf(value) === -1) {\n          value = clearValue(value);\n          value = keepInRange(Number(value));\n          return value;\n        }\n        return value;\n      });\n\n      controller.$formatters.push((value) => {\n        if (active && [undefined, null, ''].indexOf(value) === -1) {\n          return $filter('currency')(value, getCurrencySymbol(), fraction);\n        }\n        return value;\n      });\n\n      controller.$validators.min = (value) => {\n        if (!ngRequired && ([undefined, null, ''].indexOf(value) !== -1 || isNaN(value))) {\n          return true;\n        }\n        return !active ||\n          [undefined, null].indexOf(min) !== -1 || isNaN(min) ||\n          value >= min;\n      };\n\n      controller.$validators.max = (value) => {\n        if (!ngRequired && ([undefined, null, ''].indexOf(value) !== -1 || isNaN(value))) {\n          return true;\n        }\n        return !active ||\n          [undefined, null].indexOf(max) !== -1 || isNaN(max) ||\n          value <= max;\n      };\n\n      controller.$validators.fraction = (value) => {\n        return !active || !value || !isNaN(value);\n      };\n\n      function reformat() {\n        if (active) {\n          let value;\n          let updateOn, debounce;\n          if (controller.$options) {\n            // HACK(cecilia-sanare): this is to maintain backwards compatability with Angular 1.5.9 and lower.\n            // TODO(cecilia-sanare): This should be removed when ngCurrency does a 2.0.0 release\n            // Reference: https://github.com/angular/angular.js/commit/296cfce40c25e9438bfa46a0eb27240707a10ffa\n            if (controller.$options.getOption) {\n              updateOn = controller.$options.getOption('updateOn');\n              debounce = controller.$options.getOption('debounce');\n            } else {\n              updateOn = controller.$options.updateOn;\n              debounce = controller.$options.debounce;\n            }\n          }\n          if (updateOn === 'blur' || debounce) {\n            value = controller.$viewValue;\n            for (let i = controller.$parsers.length - 1; i >= 0; i--) {\n              value = controller.$parsers[i](value);\n            }\n          } else {\n            value = controller.$$rawModelValue;\n          }\n          for (let i = controller.$formatters.length - 1; i >= 0; i--) {\n            value = controller.$formatters[i](value);\n          }\n          controller.$viewValue = value;\n          controller.$render();\n        }\n      }\n\n      function revalidate() {\n        controller.$validate();\n        if (active) {\n          const value = keepInRange(controller.$$rawModelValue);\n          if (value !== controller.$$rawModelValue) {\n            controller.$setViewValue(value.toFixed(fraction));\n            controller.$commitViewValue();\n            reformat();\n          }\n        }\n      }\n\n      function keepInRange(value) {\n        if (hardCap) {\n          if (max !== undefined && value > max) {\n            value = max;\n          } else if (min !== undefined && value < min) {\n            value = min;\n          }\n        }\n        return value;\n      }\n\n      scope.$on('currencyRedraw', () => {\n        revalidate();\n        reformat();\n      });\n\n      element.bind('focus', () => {\n        if (active) {\n          const groupRegex = new RegExp(`\\\\${$locale.NUMBER_FORMATS.GROUP_SEP}`, 'g');\n          const value = [undefined, null, ''].indexOf(controller.$$rawModelValue) === -1 ? $filter('number')(controller.$$rawModelValue, fraction).replace(groupRegex, '') : controller.$$rawModelValue;\n          if (controller.$viewValue !== value) {\n            controller.$viewValue = value;\n            controller.$render();\n            element.triggerHandler('focus');\n          }\n        }\n      });\n\n      element.bind('blur', reformat);\n\n      // TODO: Rewrite this parsing logic to more readable.\n\n      function decimalRex(dChar) {\n        return RegExp('\\\\d|\\\\-|\\\\' + dChar, 'g');\n      }\n\n      function clearRex(dChar) {\n        return RegExp('\\\\-{0,1}((\\\\' + dChar + ')|([0-9]{1,}\\\\' + dChar + '?))&?[0-9]{0,' + fraction + '}', 'g');\n      }\n\n      function clearValue(value) {\n        value = String(value);\n        let dSeparator = $locale.NUMBER_FORMATS.DECIMAL_SEP;\n        let cleared = null;\n\n        if (value.indexOf($locale.NUMBER_FORMATS.DECIMAL_SEP) === -1 &&\n          value.indexOf('.') !== -1 &&\n          fraction > 0) {\n          dSeparator = '.';\n        }\n\n        // Replace negative pattern to minus sign (-)\n        const neg_dummy = $filter('currency')('-1', getCurrencySymbol(), fraction);\n        const neg_regexp = RegExp('[0-9.' + $locale.NUMBER_FORMATS.DECIMAL_SEP + $locale.NUMBER_FORMATS.GROUP_SEP + ']+');\n        const neg_dummy_txt = neg_dummy.replace(neg_regexp.exec(neg_dummy), '');\n        const value_dummy_txt = value.replace(neg_regexp.exec(value), '');\n\n        // If is negative\n        if (neg_dummy_txt === value_dummy_txt) {\n          value = '-' + neg_regexp.exec(value);\n        }\n\n        if (RegExp('^-[\\\\s]*$', 'g').test(value)) {\n          value = '-0';\n        }\n\n        if (decimalRex(dSeparator).test(value)) {\n          cleared = value.match(decimalRex(dSeparator))\n            .join('').match(clearRex(dSeparator));\n          cleared = cleared ? cleared[0].replace(dSeparator, '.') : null;\n        }\n\n        return cleared;\n      }\n\n      function getCurrencySymbol() {\n        return currencySymbol === undefined ? $locale.NUMBER_FORMATS.CURRENCY_SYM : currencySymbol;\n      }\n    }\n  };\n}\nngCurrency.$inject = ['$filter', '$locale', '$timeout', 'ngCurrencySettings'];\n\n\n\n// WEBPACK FOOTER //\n// ./ng-currency.directive.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular\"\n// module id = 2\n// module chunks = 0","import angular from 'angular';\nimport ngCurrencySettings from './ng-currency-settings.provider.js';\nimport ngCurrency from './ng-currency.directive.js';\n\nconst module = angular.module('ng-currency', []);\n\nmodule.provider('ngCurrencySettings', ngCurrencySettings);\nmodule.directive('ngCurrency', ngCurrency);\n\nexport default module.name;\n\n\n\n// WEBPACK FOOTER //\n// ./ng-currency.module.js"],"sourceRoot":""}
